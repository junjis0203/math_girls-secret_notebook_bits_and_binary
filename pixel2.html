<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <link type="text/css" href="pixel.css" rel="stylesheet">
  <!--
  <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
  -->
  <script src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>
</head>
<body>
  <div id="container"></div>

  <script src="pixel-filter.js"></script>
  <script src="pixel-component.js"></script>
  <script src="pixel-composer.js"></script>
  <script src="pixel-main_common.js"></script>
  <script>
    const input2 = bins2hexs([
      '0101010101010101',
      '1010101010101010',
      '0101010101010101',
      '1010101010101010',
      '0101010101010101',
      '1010101010101010',
      '0101010101010101',
      '1010101010101010',
      '0101010101010101',
      '1010101010101010',
      '0101010101010101',
      '1010101010101010',
      '0101010101010101',
      '1010101010101010',
      '0101010101010101',
      '1010101010101010',
    ]);

    /*
    const in1 = <Figure lines={input1} clickable={true} store={store} dst_tag={'INPUT1'} />;
    const in2 = <Figure lines={input2} clickable={true} store={store} dst_tag={'INPUT2'} />;
    store.addFilter2('INPUT1', 'INPUT2', and, 'OUTPUT1');
    const out1 = <Figure store={store} src_tag={'OUTPUT1'} />;
    const world = 
    <div>
      <VerticalLayout>
        {in1}
        {in2}
      </VerticalLayout>
      <Filter2 name={'AND'} />
      {out1}
    </div>;
    */

    const composer = new Composer();

    const in1 = composer.makeSource(input1);
    const in2 = composer.makeSource(input2);
    const and_block = composer.addFilter2(in1, in2, and);
    const world = and_block.component;

    const domContainer = document.querySelector('#container');
    ReactDOM.render(world, domContainer);

    composer.store.start();
  </script>
</body>
</html>
